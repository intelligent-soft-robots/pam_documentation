<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>More info: Saving states to file &mdash; PAM Documentation 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=8d563738"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Datasets" href="D1_datasets.html" />
    <link rel="prev" title="More info: Webcams" href="C91_webcam.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PAM Documentation
          </a>
              <div class="version">
                1.0.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="A1_overview_and_installation.html">Overview and software installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="B1_tutorial0.html">Tutorial 0: How to run tutorial demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="B2_tutorial1.html">Tutorial 1: Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="B3_tutorial2.html">Tutorial 2: Reading robot data</a></li>
<li class="toctree-l1"><a class="reference internal" href="B4_tutorial3.html">Tutorial 3: Iteration commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="B5_tutorial4.html">Tutorial 4: Joint control, table, balls, etc.</a></li>
<li class="toctree-l1"><a class="reference internal" href="B6_tutorial5.html">Tutorial 5: Saving data to files</a></li>
<li class="toctree-l1"><a class="reference internal" href="B7_tutorial6.html">Tutorial 6: Bursting mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="B8_tutorial7.html">Tutorial 7: Converting observations to other formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="C1_handle.html">More info: MuJoCo handles and contacts</a></li>
<li class="toctree-l1"><a class="reference internal" href="C2_real_robot.html">More info: Using the real robot</a></li>
<li class="toctree-l1"><a class="reference internal" href="C3_executables.html">More info: List of executables</a></li>
<li class="toctree-l1"><a class="reference internal" href="C4_mirroring.html">More info: Mirroring real robot</a></li>
<li class="toctree-l1"><a class="reference internal" href="C5_visual_ball_tracking.html">More info: Visual ball tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="C7_ball_launcher.html">More info: Ball launcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="C8_low_latency.html">More info: Low latency kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="C9_vicon.html">More info: Vicon</a></li>
<li class="toctree-l1"><a class="reference internal" href="C9.1_tennicam_vicon_transform.html">More info: Compute Transformation from Tennicam to World Frame</a></li>
<li class="toctree-l1"><a class="reference internal" href="C91_webcam.html">More info: Webcams</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">More info: Saving states to file</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-to">How-to</a></li>
<li class="toctree-l2"><a class="reference internal" href="#limitations">Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#under-the-hood">Under the hood</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="D1_datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="E1_tools.html">Developer’s guide 1: Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="E2_guidelines.html">Developer’s guide 2: Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="E3_packages_overview.html">Developer’s guide 3: Packages overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="E4_advanced_overview.html">Developer’s guide 4: Advanced overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="E5_documentation.html">Developer’s guide: Updating the documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PAM Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">More info: Saving states to file</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/C92_saving_states.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="more-info-saving-states-to-file">
<h1>More info: Saving states to file<a class="headerlink" href="#more-info-saving-states-to-file" title="Link to this heading"></a></h1>
<section id="how-to">
<h2>How-to<a class="headerlink" href="#how-to" title="Link to this heading"></a></h2>
<p>When creating a mujoco handle, one can pass values to the arguments <code class="docutils literal notranslate"><span class="pre">save_data</span></code> and <code class="docutils literal notranslate"><span class="pre">save_folder</span></code>,
for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="n">mujoco_id</span> <span class="o">=</span> <span class="s2">&quot;myapp&quot;</span>
<span class="n">robot_segment_id</span> <span class="o">=</span> <span class="s2">&quot;robot&quot;</span>
<span class="n">control</span> <span class="o">=</span> <span class="n">pam_mujoco</span><span class="o">.</span><span class="n">MujocoRobot</span><span class="o">.</span><span class="n">PRESSURE_CONTROL</span>
<span class="n">robot</span> <span class="o">=</span> <span class="n">pam_mujoco</span><span class="o">.</span><span class="n">MujocoRobot</span><span class="p">(</span><span class="n">robot_segment_id</span><span class="p">,</span>
                              <span class="n">control</span><span class="o">=</span><span class="n">control</span><span class="p">)</span>
<span class="n">graphics</span><span class="o">=</span><span class="kc">True</span>
<span class="n">accelerated_time</span><span class="o">=</span><span class="kc">False</span>
<span class="n">save_data</span> <span class="o">=</span> <span class="kc">True</span>      <span class="c1"># !</span>
<span class="n">save_folder</span> <span class="o">=</span> <span class="s2">&quot;/tmp/&quot;</span> <span class="c1"># !</span>
<span class="n">handle</span> <span class="o">=</span> <span class="n">pam_mujoco</span><span class="o">.</span><span class="n">MujocoHandle</span><span class="p">(</span><span class="n">mujoco_id</span><span class="p">,</span>
                                 <span class="n">robot1</span><span class="o">=</span><span class="n">robot</span><span class="p">,</span>
                                 <span class="n">graphics</span><span class="o">=</span><span class="n">graphics</span><span class="p">,</span>
                                 <span class="n">accelerated_time</span><span class="o">=</span><span class="n">accelerated_time</span><span class="p">,</span>
				 <span class="n">save_data</span><span class="o">=</span><span class="n">save_data</span><span class="p">,</span>
				 <span class="n">save_folder</span><span class="o">=</span><span class="n">save_folder</span><span class="p">)</span>
</pre></div>
</div>
<p>Consequently, the related instance of pam_mujoco will run a driver which dumps the robot state
in a csv file located in the <code class="docutils literal notranslate"><span class="pre">/tmp</span></code> folder. The name of the file will also contain the mujoco_id
and the time of its creation.</p>
<p>To see an example of the parsing for such a file, see <code class="docutils literal notranslate"><span class="pre">/pam_mujoco/bin/pam_mujoco_compare.py</span></code></p>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Link to this heading"></a></h2>
<p>If two robots are running, only the state of one will be saved in the file.</p>
</section>
<section id="under-the-hood">
<h2>Under the hood<a class="headerlink" href="#under-the-hood" title="Link to this heading"></a></h2>
<p>Setting the <code class="docutils literal notranslate"><span class="pre">save_data</span></code> argument to True will result in an instance of <code class="docutils literal notranslate"><span class="pre">MujocoStatePrinterController</span></code> being added to pam_mujoco. At each mujoco iteration this controller reads the values of the current mujoco “mjModel” and write the corresponding values to the file. The time stamp correspond to the computer time stamp (not the mujoco simulation time stamp). See <code class="docutils literal notranslate"><span class="pre">/pam_mujoco/include/pam_mujoco/mujoco_state.hpp</span></code>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="C91_webcam.html" class="btn btn-neutral float-left" title="More info: Webcams" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="D1_datasets.html" class="btn btn-neutral float-right" title="Datasets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Empirical Inference, Max Planck Institute for Intelligent Systems.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>